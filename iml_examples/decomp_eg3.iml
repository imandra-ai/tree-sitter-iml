let simple_branch x =
  if x = 1 || x = 2 then x + 1 else x - 1
[@@decomp top ()]


let f x = x + 1

let simple_branch2  = simple_branch
[@@decomp top ~assuming:[%id simple_branch] ~basis:[[%id simple_branch] ; [%id f]] ~rule_specs:[[%id simple_branch]] ~prune:true ~ctx_simp:true ~lift_bool: Default ()]

let simple_branch3 x =
  if x = 1 || x = 2 then x + 1 else x - 1
[@@decomp top ~prune: true ()]


(* Nested_equalities, Equalities, All *)
